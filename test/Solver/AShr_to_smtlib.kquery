# RUN: %kleaver -print-smtlib -smtlib-abbreviation-mode=none %s > %t
# RUN: diff -u %t %s.good.smt2
# RUN: %smtlib_solver %s.good.smt2 | FileCheck %s

# This test tries to check that the SMT-LIBv2 we generate when a AShrExpr is
# used is correct.

array value[1] : w32 -> w8 = symbolic
array shift[1] : w32 -> w8 = symbolic
# CHECK: {{^unsat}}
(query [(Ule 8 (Read w8 0 shift))] (Eq 0 (AShr w8 (Read w8 0 value) (Read w8 0 shift))) )
